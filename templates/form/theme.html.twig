{% use "form_div_layout.html.twig" %}

{% block form_row %}
    <div class="form-group{% if not valid %} form-group--error{% endif %}">
        {{ form_label(form) }}
        {{ form_widget(form) }}
        {{ form_errors(form) }}
        {% if help is not empty %}
            <p class="form-group__help">{{ help }}</p>
        {% endif %}
    </div>
{% endblock %}

{% block form_label %}
    {% if label is not same as(false) %}
        <label class="form-label"{% if id is not empty %} for="{{ id }}"{% endif %}>
            {{ label|default(name|humanize) }}
            {% if required %}*{% endif %}
        </label>
    {% endif %}
{% endblock %}

{% block form_widget_simple %}
    <input class="form-input{% if not valid %} form-input--error{% endif %}" type="{{ type }}" {{ block('widget_attributes') }}{% if value is not empty %} value="{{ value }}"{% endif %}>
{% endblock %}

{% block textarea_widget %}
    <textarea class="form-textarea{% if not valid %} form-textarea--error{% endif %}" {{ block('widget_attributes') }}>{{ value }}</textarea>
{% endblock %}

{% block choice_widget_collapsed %}
    <select class="form-select{% if not valid %} form-select--error{% endif %}" {{ block('widget_attributes') }}>
        {% if placeholder is not none %}
            <option value=""{% if required and value is empty %} selected="selected"{% endif %}>{{ placeholder != '' ? placeholder }}</option>
        {% endif %}
        {% if preferred_choices|length > 0 %}
            {% set options = preferred_choices %}
            {% set render_preferred_choices = true %}
            {{ block('choice_widget_options') }}
            {% if choices|length > 0 %}
                <option disabled="disabled">---</option>
            {% endif %}
        {% endif %}
        {% set options = choices %}
        {% set render_preferred_choices = false %}
        {{ block('choice_widget_options') }}
    </select>
{% endblock %}

{% block form_errors %}
    {% if errors|length > 0 %}
        <ul class="form-errors">
            {% for error in errors %}
                <li class="form-errors__item">{{ error.message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}

{% block button_widget %}
    <button class="btn btn--primary" type="{{ type|default('button') }}" {{ block('widget_attributes') }}>{{ label|default('') }}</button>
{% endblock %}

{% block checkbox_row %}
    <div class="form-check">
        {{ form_widget(form) }}
        {{ form_label(form) }}
        {{ form_errors(form) }}
    </div>
{% endblock %}

{% block radio_widget %}
    <div class="form-check">
        <input type="radio" {{ block('widget_attributes') }}{% if value is defined %} value="{{ value }}"{% endif %}{% if checked %} checked="checked"{% endif %}>
        <label for="{{ id }}">{{ label|default('') }}</label>
    </div>
{% endblock %}
